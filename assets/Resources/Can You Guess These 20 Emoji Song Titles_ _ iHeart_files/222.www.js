"use strict";(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[222],{92340:(e,t,i)=>{i.d(t,{Z:()=>Z});var r=i(17),a=i(79134),o=i(73665),n=i(30738),s=i(26985),l=i(5988),d=i(61578),c=i(96832),u=i(1268);class m extends c.PureComponent{constructor(...e){super(...e),this.asyncData=null,this.state={links:void 0},this.getInitialStateAsync=()=>{const{variety:e}=this.props,{artistId:t,ampUrl:i}=this.props;return(0,o.Z)((0,d.SF)({ampUrl:i,id:t})).then((t=>{const i=(0,l.r7)((0,r.Z)(t,["data","similarArtists"]));return i&&i[e]&&i[e].length?{links:i[e].slice(0,3).map((e=>({title:e.artistName,url:(0,s.Yy)(e.artistId,e.artistName)})))}:{}}))},this.getTruncatedLinks=e=>{const{truncate:t}=this.props,i=[];let r=15;return e.forEach((e=>{const a=e.title.length;r+a+2<=t&&(r+=a+2,i.push(e))})),i}}componentDidMount(){this.asyncData=(0,n.Z)(this.getInitialStateAsync()),this.asyncData.then((e=>this.setState(e)))}componentWillUnmount(){this.asyncData&&this.asyncData.cancel()}render(){const{links:e,translate:t,numberOfFeatures:i}=this.props,r=this.state.links||e;if(!r)return(0,u.tZ)("p",{});const o=this.getTruncatedLinks(r);return(0,u.tZ)("p",{children:t("Feat. {artistNames} and more",{artistNames:o.slice(0,i).map(((e,t)=>(0,u.BX)("span",{children:[(0,u.tZ)(a.Z,{title:e.title,to:e.url,children:e.title}),t<o.length-1?", ":""]},e.title+e.url)))})})}}m.defaultProps={truncate:1e3,variety:"TOP_HITS"};var h=i(1441),p=i(65506),g=i(32034),v=i(9133),y=i(47976);const Z=(0,h.qC)((0,y.NC)("translate"),(0,p.connect)((0,g.zB)({ampUrl:v.h_})))(m)},41337:(e,t,i)=>{i.d(t,{Z:()=>r});const r=(0,i(92787).Z)("div",{target:"e1yb1beu0"})((({theme:e})=>({"&:hover":{"+ .image::after":{background:e.colors.transparent.dark},"+ span .image::after":{background:e.colors.transparent.dark}},".play":{borderColor:e.colors.white.primary,bottom:"30%",height:"40%",left:"30%",position:"absolute",width:"40%",zIndex:1,svg:{fill:e.colors.white.primary}}})),"")},45202:(e,t,i)=>{i.d(t,{Z:()=>m});var r=i(92787),a=i(65688);const o=(0,r.Z)(a.Z,{target:"e154agbc0"})((({size:e})=>({borderRadius:e/2,height:e,overflow:"hidden",width:e})),"");var n=i(57810),s=i(32806),l=i(9133),d=i(85834),c=i(65506),u=i(1268);const m=function({dataTest:e,size:t}){const i=(0,c.useSelector)(l.C3),r=(0,c.useSelector)(d.v4);return(0,u.tZ)(o,{alt:"Profile",aspectRatio:1,background:!0,"data-test":null!=e?e:"profile-Img",size:t,src:(0,n.Sc)((0,n.J_)(i,r),(0,n.VH)((0,s.E9)((0,s.Tj)(t,t))()))()})}},39617:(e,t,i)=>{i.d(t,{p:()=>o,$:()=>c});const r=(e,t,i)=>[{key:"application/json+oembed",href:`${e}/oembed?url=${encodeURIComponent(t)}&format=json`,rel:"alternate",title:i,type:"application/json+oembed"},{key:"text/xml+oembed",href:`${e}/oembed?url=${encodeURIComponent(t)}&format=xml`,rel:"alternate",title:i,type:"text/xml+oembed"}];var a=i(93660);const o=({pagePath:e,siteUrl:t,title:i})=>[...r(t,(0,a.zt)(t,e),i)];var n=i(32787),s=i.n(n);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},l.apply(this,arguments)}const d=({embed:e})=>{const t={};return e&&(t.embed=!0),Object.keys(t).length?`?${i=t,s().stringify((r=i,Object.keys(r).sort().reduce(((e,t)=>l({},e,{[t]:r[t]})),{})))}`:"";var i,r},c=({height:e,addEmbedToLink:t=!1,pagePath:i,siteUrl:r,width:o})=>{const n=(0,a.zt)(r,i),s=n+d({embed:t}),l=n+d({embed:!0}),c=n+d({embed:t});return[{content:"audio",key:"twitter:card",property:"twitter:card"},{content:c,key:"twitter:url",name:"twitter:url"},{content:c,key:"twitter:player",name:"twitter:player"},{content:`${o}`,key:"twitter:player:width",name:"twitter:player:width"},{content:`${e}`,key:"twitter:player:height",name:"twitter:player:height"},{content:"text/html",key:"og:video:type",property:"og:video:type"},{content:"audio/vnd.facebook.bridge",key:"og:audio:type",property:"og:audio:type"},{content:s,key:"og:url",property:"og:url"},{content:s,key:"og:audio",property:"og:audio"},{content:l,key:"og:video:url",property:"og:video:url"},{content:l,key:"og:video:secure_url",property:"og:video:secure_url"},{content:`${o}`,key:"og:video:width",property:"og:video:width"},{content:`${e}`,key:"og:video:height",property:"og:video:height"}]}},40955:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(92787),a=i(69972);const o=(0,r.Z)("div",{target:"e1g0mz980"})((({theme:e})=>({color:e.colors.white.primary,fontSize:"1.6rem",lineHeight:"2.5rem",paddingRight:"1.5rem",width:"44rem","a, p":{color:e.colors.white.primary},[(0,a.Z)(e.mediaQueries.max.width[768])]:{fontSize:"1.2rem",lineHeight:"1.8rem",width:"100%"}})),"")},30738:(e,t,i)=>{function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{Z:()=>a});const a=function(e){let t=!1;const i=new Promise(((i,a)=>{Promise.resolve(e).then((e=>t?a({canceled:t}):i(e))).catch((e=>a(r({},e,{canceled:t}))))}));return i.cancel=()=>{t=!0},i}},28112:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ze});var r=i(21677),a=i(92340),o=i(17078),n=i(8743),s=i(57810),l=i(12771),d=i(39617),c=i(93660),u=i(96342),m=i(1268);var h=i(65506),p=i(32034),g=i(45036),v=i(9133);const y=(0,h.connect)((0,p.zB)({favoriteArtists:g.kp,mediaServerUrl:v.C3,siteUrl:v.$2}))((function({favoriteArtists:e,mediaServerUrl:t,seedId:i,siteUrl:r,name:a=""}){var h;const p=(0,n.Z)(),g=e.slice(0,3).map((e=>{var t;return null!=(t=null==e?void 0:e.name)?t:""})).join(", "),v=p("{name}'s Favorites Radio",{name:a}),y=(0,c.YY)(p,"favorite songs, favorite music, personal radio station, personalized radio station, custom radio station"),Z=`favorites/${a}-favorites-radio-${i}`,f=(0,s.Sc)((0,s.kG)(t,{id:i,resourceType:"favorites"}))(),{height:S,fixedWidth:I}=null!=(h=u.I.FAVORITES)?h:{};return(0,m.BX)(m.HY,{children:[(0,m.tZ)(o.Z,{description:g,image:f,metaDescription:g,noAltLink:!0,ogType:"music.playlist",title:v}),(0,m.tZ)(l.q,{link:(0,d.p)({pagePath:Z,siteUrl:r,title:v}),meta:[{content:y,name:"keywords"},...(0,d.$)({pagePath:Z,siteUrl:r,height:S,width:I})]})]})}));var Z=i(57177),f=i(40955),S=i(52916),I=i(85541),b=i(61702),w=i(30793),k=i(14556),R=i(36311),F=i(79627),N=i(64680),T=i(88319),A=i(54554),E=i(69666),O=i(96126),C=i(2329),P=i(45202),U=i(90871),_=i(1181),$=i(40505),x=i(32806),B=i(96832),z=i(67657),V=i(97606);const j=(0,C.Z)(E.Z),D=N.Z.withComponent("div",{target:"e13m0rbn0"});class M extends B.PureComponent{render(){const{customRadioEnabled:e,displayName:t,image:i,hasMFR:r,isMFR:a,mediaServerUrl:o,name:n,title:s,translate:l,userId:d}=this.props;let{seedId:c}=this.props;!c&&a&&(c=null==d?void 0:d.toString());const u=i&&e?(0,m.tZ)(A.ZP,{alt:"Hero Image",background:!0,ops:[(0,x.QX)("center"),(0,x.yv)(40)],src:i}):null,h=s&&-1===s.indexOf("Favorites Radio")?`${s} Favorites Radio`:s,p=`${t}'s Profile`;return(0,m.BX)(F.Z,{"data-test":"hero-container",children:[(0,m.tZ)(S.Z,{backgroundColor:e?Z.Z.red.primary:Z.Z.black.secondary,noMask:!0,primaryBackground:u}),(0,m.tZ)(w.Z,{children:(0,m.BX)(b.Z,{children:[(0,m.tZ)(_.Z,{children:e?(0,m.tZ)(V.pl,{alt:n,mediaServerUrl:o,seedId:d||c,seedType:z.bV.FAVORITES}):(0,m.tZ)(D,{alt:"Profile Picture",children:(0,m.tZ)(P.Z,{size:195})})}),(0,m.BX)(I.Z,{children:[(0,m.tZ)(T.Z,{children:(0,m.tZ)($.Z,{clamp:!0,text:e||!a?h:p})}),(0,m.tZ)(U.Z,{shouldShow:e,children:(0,m.BX)(R.Z,{children:[!a||r?(0,m.tZ)(j,{ButtonComponent:k.Z,playedFrom:O.Z.PROF_FAVORITES_PLAY,seedId:c,stationId:c,stationType:z.bV.FAVORITES}):null,(0,m.tZ)(f.Z,{children:l("All your favorite songs and artists.")})]})})]})]})})]})}}var H=i(1441),L=i(41120),X=i(43068),Y=i(47976);const Q=(0,H.qC)((0,Y.NC)("translate"),(0,h.connect)((0,p.zB)({customRadioEnabled:L.BB,displayName:(0,X.R5)(16),hasMFR:g.Nm,image:g.UA,mediaServerUrl:v.C3,seedId:g.jn,title:g.oY})))(M);var W=i(79134),q=i(80860),G=i(45975),K=i(41337),J=i(17),ee=i(94547),te=i(47682),ie=i(76474),re=i(92787);const ae=(0,re.Z)("h1",{target:"e17oi5rf0"})({name:"1khvu0j",styles:"display:inline;font-size:inherit;font-weight:inherit;line-height:inherit"});var oe=i(69972);const ne=(0,re.Z)("button",{target:"e1v9myu20"})((({theme:e})=>({backgroundColor:e.colors.transparent.primary,border:"none",minWidth:"unset",padding:0,paddingLeft:"0.8rem",width:"3rem",[(0,oe.Z)(e.mediaQueries.max.width[640])]:{width:"3rem"}})),"");var se=i(9242);const le=(0,re.Z)(se.Z,{target:"e1dopqf20"})({name:"1kymkw5",styles:"font-size:1.6rem"}),de=(0,re.Z)("span",{target:"e13be4150"})({name:"1bmnxg7",styles:"white-space:nowrap"}),ce=i(40013).Z.withComponent("section",{target:"e1vsmhmg0"});function ue({name:e,onEdit:t,className:i}){return(0,m.tZ)(ce,{className:i,children:(0,m.BX)(ae,{children:[e," Favorites",(0,m.BX)(de,{children:[" Radio",t?(0,m.tZ)(ne,{"data-test":"mfrname-editbtn",onClick:t,children:(0,m.tZ)(le,{name:"pencil"})}):null]})]})})}var me=i(85834),he=i(9423);const pe=(0,ie.Z)()(te.Z),ge=({canEdit:e=!1,className:t,currentName:i="My",onSave:r})=>{const[a,o]=(0,B.useState)(!1),n=(0,h.useSelector)(me._o),s=(0,h.useDispatch)();return a?(0,m.tZ)(pe,{className:t,getErrorMessage:e=>e?1===e.length?"Name must be at least 2 characters.":"":"Rename your Favorites Radio station now.",initialValue:i,onCancel:()=>{o(!1)},onSave:e=>{o(!1),r&&r(e)}}):(0,m.tZ)(ue,{className:t,name:i,onEdit:e?()=>{n?s((0,he.it)({context:"reg-gate"})):o(!0)}:void 0})};var ve=i(73665),ye=i(29205),Ze=i(31561),fe=i(3921);class Se extends B.Component{constructor(...e){super(...e),this.state=this.getInitialState(),this.onSubmit=e=>{const{ampUrl:t,profileId:i,sessionId:r,setHeroTitle:a,setMyFavoritesRadioName:o}=this.props,n=e.trim(),s=`${e} Favorites Radio`;return(0,ve.Z)((0,ye.Gt)({ampUrl:t,profileId:i,seedId:i,sessionId:r})).then((({data:e})=>{let l=this.state.stationId;const d=(0,J.Z)(e,["value","id"]);if(d?(l=d,ee.Z.setItem("ihr-favorites-id",d)):l=ee.Z.getItem("ihr-favorites-id"),!n)return!1;(0,ve.Z)((0,ye.e5)({ampUrl:t,name:n,profileId:i,sessionId:r,stationId:l})).then((({data:e})=>{if(e.success)return a(s),o(s),ee.Z.setItem("ihr-favorites-name",n),!0}),(()=>{}))})),!1}}getInitialState(){let e=this.props.stationName||"My",t="";return e.indexOf(" Favorites Radio")>-1&&(t=e.split(" Favorites Radio")[0],e=e.split(" Favorites Radio")[0]),{origionalName:t,stationId:this.props.stationId,stationName:e,validated:!1}}UNSAFE_componentWillReceiveProps(e){let t=e.stationName;t.indexOf(" Favorites Radio")&&(t=t.split(" Favorites Radio")[0]),this.setState({stationName:t})}render(){return(0,m.tZ)("div",{children:(0,m.tZ)(ge,{canEdit:!0,currentName:this.state.stationName,onSave:this.onSubmit})})}}const Ie=(0,p.zB)({ampUrl:v.h_,profileId:me.v4,sessionId:me.MQ}),be={setHeroTitle:fe.Td,setMyFavoritesRadioName:Ze.fA},we=(0,h.connect)(Ie,be)(Se);var ke=i(61312),Re=i(34425),Fe=i(30410),Ne=i(47936),Te=i(74767),Ae=i(62570),Ee=i(58053),Oe=i(75077),Ce=i(31343),Pe=i(22370),Ue=i(6949),_e=i(91011),$e=i(9635);const xe=(0,C.Z)(E.Z);var Be={name:"4bgdod",styles:"display:block;position:relative"};const ze=function(){var e,t,i;const o=(0,h.useDispatch)(),s=(0,n.Z)(),[l,d]=(0,B.useState)((0,h.useSelector)(g.kp)),[c,p]=(0,B.useState)((0,h.useSelector)(g.jn)),[Z,f]=(0,B.useState)((0,h.useSelector)(g.QF)),[S,I]=(0,B.useState)((0,h.useSelector)(g.oY)),[b,w]=(0,B.useState)(),{"favorites.named":k}=null!=(e=(0,h.useSelector)(X.Iz))?e:{},R=(0,h.useSelector)(g.Nm),F=(0,h.useSelector)(me.Ld),{id:N}=null!=(t=(0,h.useSelector)(Pe.IO))?t:{},{pathname:T}=null!=(i=(0,h.useSelector)(Ce.k$))?i:{},E=(0,h.useSelector)(me.v4),C=(0,h.useSelector)(v.$2),P=(0,h.useSelector)(g.oY),U=(0,h.useSelector)(Ce.fg),_=(0,h.useSelector)(v.h_),$=(0,h.useSelector)(Ce.vZ),x=(0,h.useSelector)(g.Qg),V=null!=$?$:x;(0,Ee.Z)((()=>{(async()=>{await(0,ve.Z)((0,ye.cc)(V,_,{bustCache:!0})).then((e=>w(e.data)))})(),F||!1!==R||o((0,Ze.mI)(void 0)),F&&!U&&o((0,he.it)({context:"reg-gate"}))})),(0,B.useEffect)((()=>{if(b){const{artists:e,description:t,imagePath:i,link:r,name:a,seedId:n,slug:s}=(0,Ue.c4)(b,V);p(n),d(e),f(s),I(a),o((0,Oe.L7)(e)),o((0,Ze.Cs)({artists:e,description:t,imagePath:i,link:r,name:a,seedId:n,slug:s})),o((0,fe.j)(!0))}}),[b,d,o,V,_]);const{correctSlug:j,getStationInfo:D,isActiveUser:M,needStationInfo:H,needsToNameStation:L,showHowToPage:Y}=function({favoritesNamed:e,hasMFR:t,isAnonymous:i,modalId:r,profileId:a,seedId:o,slug:n,urlSlugId:s}){const[l,d]=(0,B.useState)(),[c,u]=(0,B.useState)(),[m,h]=(0,B.useState)(),[p,g]=(0,B.useState)(!1),[v,y]=(0,B.useState)(!1),Z=(0,B.useCallback)((()=>()=>(0,Ae.yn)(z.bV.FAVORITES,a)),[a]),f=(0,B.useCallback)((()=>()=>(0,Ze.V6)(Number(s||o),{bustCache:!0})),[o,s]);return(0,B.useEffect)((()=>{a&&void 0===m&&h(!i&&(!s&&!o||Number(s||o)===Number(a)))}),[m,i,a,o,s]),(0,B.useEffect)((()=>{!l&&void 0!==m&&null!=n&&n.includes(String(m?a:s))&&d(n)}),[l,m,a,n,s]),(0,B.useEffect)((()=>{void 0===c&&void 0!==m&&(m&&!t?u(Z):m||null!=n&&n.includes(String(s))?u(null):u(f))}),[f,Z,c,t,m,n,s]),(0,B.useEffect)((()=>{(m&&!1===t&&c||i&&!s)&&y(!0)}),[c,t,m,i,s]),(0,B.useEffect)((()=>{g(!(!t||!m||e||r===Te.eO.NewFavorites))}),[e,t,m,r]),{correctSlug:l,getStationInfo:c,isActiveUser:m,needStationInfo:!!c,needsToNameStation:p,showHowToPage:v}}({favoritesNamed:k,hasMFR:R,isAnonymous:F,modalId:N,profileId:E,seedId:c,slug:Z,urlSlugId:U});(0,B.useEffect)((()=>{Y&&(window.location=`${C}/content/how-to-create-the-most-awesome-radio-station-ever-with-my-favorites-radio/?cmp=ihr-favorites-noteligible`)}),[Y,C]),(0,B.useEffect)((()=>{L&&o((0,he.h7)({context:null,id:Te.eO.NewFavorites}))}),[o,L,T]),(0,B.useEffect)((()=>{H&&o(null==D?void 0:D())}),[o,D,H]),(0,B.useEffect)((()=>{j&&o((0,_e.c4)({path:`/favorites/${j}/`,replace:!0}))}),[j,o]);const J=M?(0,m.tZ)(we,{stationName:P}):null,ee={dimensions:u.I.FAVORITES,hideDescription:!0,seedId:c,seedType:z.bV.FAVORITES,stationName:P,url:T};return c?(0,m.BX)(m.HY,{children:[(0,m.tZ)(y,{name:S,seedId:c}),(0,m.tZ)(Q,{isMFR:M}),(0,m.BX)(G.ZP,{dataTest:G.n3.Favorites,hasHero:!0,heading:J,social:ee,title:P,children:[(0,m.tZ)(Re.Z,{type:"top",children:(0,m.tZ)(q.Z,{color:e=>e.gray.medium,children:M||!E?s("Welcome to Your Favorites Radio, a personalized station containing your favorite songs and artists. The more you thumb up and save stations on iHeart, the better your listening experience will be."):s("Listen to {title}. Thumb up songs to add them to your own Your Favorites Radio station. Find it under My Stations.",{title:P})})}),(0,m.tZ)(ke.Z,{header:s("Featured Artists On This Station"),children:(0,m.tZ)(Ne.Z,{tilesInRow:3,children:null==l?void 0:l.map((({name:e,artistId:t})=>{const i=`/artist/${(0,$e.lV)(e)}-${t}/`;return(0,m.tZ)(Fe.Z,{isRoundImage:!0,subTitle:(0,m.tZ)(a.Z,{artistId:t},`featuring|${t}`),tilesInRow:3,title:e,url:i,children:(0,m.BX)(W.Z,{css:Be,to:i,children:[(0,m.tZ)(K.Z,{children:(0,m.tZ)(xe,{className:"play",deferPlay:!0,playedFrom:O.Z.PROF_FAVORITES_MAIN_ARTISTS,seedId:t,stationId:t,stationType:z.bV.ARTIST})}),(0,m.tZ)(r.Z,{alt:e,aspectRatio:1,height:A.ul,id:t,type:z.bV.ARTIST,width:A.ul})]})},`myFavorites|${t}`)}))})})]})]}):null}}}]);
//# sourceMappingURL=Favorites.www.js.map